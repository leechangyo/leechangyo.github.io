I"<h1 id="static-variables-and-functionshttpsju3ungithubioglobal-static">(Static-Variables-and-Functions)[https://ju3un.github.io/global-static/]</h1>
<ul>
  <li>프로그래밍을 처음 배울 때 우리는 지역 변수, 전역 변수라는 용어를 흔히 들을 수 있다.</li>
  <li>지역 변수는 말그대로 정의되는 시점에서 생성되고 초기화되며, 정의된 스코프(블록)이 끝나는 지점에서 소멸한다.</li>
  <li><strong>그렇다면 전역 변수는 이름 그대로 지역 변수와는 반대로 전역에서 사용할 수 있다고 추측할 수 있다</strong></li>
</ul>

<h2 id="전역-변수global-variable와-정적-변수static-variable">전역 변수(Global Variable)와 정적 변수(Static Variable)</h2>
<ul>
  <li>이 둘의 공통점은 지역 변수와는 다르게 프로그램이 끝날 때 비로소 소멸된다는 것을 알고 있다</li>
</ul>

<h3 id="1-전역-변수global-variable">1. 전역 변수(Global Variable)</h3>
<ul>
  <li>한 번 할당된 변수의 메모리와 값은 프로그램이 종료될 때까지 유지된다. (=lifetime 프로그램 종료시.)</li>
  <li>해당 프로그램의 어느 파일, 함수에서도 접근 가능하다</li>
  <li>다른 파일에서 접근하기 위해서는 아래와 같이 extern 키워드를 사용하여 변수를 선언하고 사용해야 한다</li>
  <li>필요할 때 초기화를 언제든 몇번이든 할 수 있다.</li>
  <li>초기화를 하지 않아도 메모리가 할당된다. (초기화 시 data영역에 존재)
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int g_iValue;           // 본문 선언
extern int g_iValue;    // 다른 파일에서 선언 후 사용
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="2-전역-변수static-variable">2. 전역 변수(Static Variable)</h3>
<ul>
  <li>한 번 할당된 변수의 메모리와 값은 프로그램이 종료될 때까지 유지된다. (=lifetime 프로그램 종료시.)</li>
  <li>해당 변수가 선언된 파일, 함수내에서만 접근 가능하다.</li>
  <li>선언 시 static 키워드를 반드시 사용해야 한다.</li>
  <li>초기화는 단 한번만 할 수 있으며 초기화는 <strong>반드시 소스 파일</strong> 에서 해야 한다.</li>
  <li>본문 / <strong>다른 파일 사용 방법은 없음(x)</strong></li>
  <li>초기화하지 않은 상태로 어느 곳에서도 사용되지 않으면 메모리가 할당되지 않는다. (초기화 시 data영역에 존재)
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>static int s_iValue;    // 본문 선언
</code></pre></div>    </div>
  </li>
  <li>해당 클래스의 모든 인스턴스들의 공통적인 공유 자원(해당 클래스가 여러 개의 객체가 생성되어도 해당 변수는 단 한번만 생성되고 초기화된다.)</li>
  <li>객체가 생성되기 전에 이미 메모리가 할당되어, 생성자에서 초기화해줄 수 없다.</li>
  <li>각 인스턴스의 귀속 값이 아니기 때문에 호출 시, 클래스명을 명시하여 호출하는 것이 올바르다.</li>
  <li>C++에서 정적 멤버란 클래스에는 속하지만, 객체 별로 할당되지 않고 클래스의 모든 객체가 공유하는 멤버를 의미합니다.</li>
  <li><strong>멤버 변수가 정적(static)으로 선언되면, 해당 클래스의 모든 객체에 대해 하나의 데이터만이 유지 관리됩니다.</strong></li>
  <li>정적 멤버 변수는 클래스 영역에서 선언되지만, 정의는 파일 영역에서 수행됩니다.
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>this.m_iValue   // (x)
Price::m_iValue // (o) 올바른 표현
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="정적-함수httptcpschoolcomcppcpp_encapsulation_staticconst">(정적 함수)[http://tcpschool.com/cpp/cpp_encapsulation_staticConst]</h2>

<p>-</p>

<h1 id="exercise">Exercise</h1>
<blockquote>
  <p>Main.cpp</p>
</blockquote>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#include &lt;iostream&gt;
#include "farm.h"

using namespace std;
/* polymorphism, virtual functions, abstract class */
void voiceOfAnimal(Animal *);
void voiceOfAnimal(Animal &amp;);
int main()
{

    Dog dog;
    Cat cat;
    Cow cow;
/*
    cout &lt;&lt; animal.getVoice() &lt;&lt; endl;
    cout &lt;&lt; dog.getVoice() &lt;&lt; endl;
    cout &lt;&lt; cat.getVoice() &lt;&lt; endl;
    cout &lt;&lt; cow.getVoice() &lt;&lt; endl;
    */
    voiceOfAnimal(&amp;cow); // why we use &amp; because it is for class usually. so it took as reference



    return 0;
}
void voiceOfAnimal(Animal *p)
{
    cout &lt;&lt; p-&gt;getVoice() &lt;&lt; endl;
}
void voiceOfAnimal(Animal &amp;p)
{
    cout &lt;&lt; p.getVoice() &lt;&lt; endl;
}
</code></pre></div></div>

<blockquote>
  <p>farm.h</p>
</blockquote>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#ifndef FARM_H_INCLUDED
#define FARM_H_INCLUDED
#include &lt;iostream&gt;

using namespace std;

class Animal
{
        protected:
            string voice;
        public:
            Animal();
            ~Animal();
            virtual string getVoice() = 0; // 가상함수로 선언하여 유도 클래스 Getvoice를 쓸 수 있게 함
};
class Dog : public Animal
{
            string sign;
        public:
            Dog();
            ~Dog();
            string getVoice() { return voice + " " + sign; }
};
class Cat : public Animal
{
            string sign;
        public:
            Cat();
            ~Cat();
            string getVoice() { return voice  + " " +  sign; }
};
class Cow : public Animal
{
            string sign;
        public:
            Cow();
            ~Cow();
            string getVoice() { return voice  + " " +  sign; }
};

#endif // FARM_H_INCLUDED
</code></pre></div></div>

<blockquote>
  <p>farm.cpp</p>
</blockquote>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#include "farm.h"


Animal::~Animal()
{

}
Dog::Dog()
{
    sign = "D";
    voice = "hau";
}
Dog::~Dog()
{

}
Cat::Cat()
{
    sign = "C";
    voice = "meow";
}
Cat::~Cat()
{

}
Cow::Cow()
{
    sign = "CO";
    voice = "moooo";
}
Cow::~Cow()
{

}

</code></pre></div></div>
:ET