---
layout: post
title: 4. Camera Model & Camera Distortion
category: Visual SLAM
tag: Visual SLAM
---

# Camera and Image

<a href="https://postimg.cc/87xyzqHF"><img src="https://i.postimg.cc/VNk2Dw0F/Capture.jpg" width="700px" title="source: imgur.com" /><a>

- Visual SLAM(Camera-based)
  - Robot uses camera images as a means to observe the outside world(æœºå™¨äººä½¿ç”¨ç›¸æœºå›¾åƒä½œä¸ºè§‚å¯Ÿå¤–ç•Œçš„æ‰‹æ®µ)
  - Camera records real-world color and brightness information in pixels(ç›¸æœºä»¥åƒç´ ä¸ºå•ä½è®°å½•ç°å®ä¸–ç•Œçš„é¢œè‰²å’Œäº®åº¦ä¿¡æ¯)
    1. In a three-dimensional world, light is reflected and emitted by objects(åœ¨ä¸‰ç»´ä¸–ç•Œä¸­ï¼Œå…‰è¢«ç‰©ä½“åå°„å’Œå‘å°„ã€‚)
    2. Light received through the lens is projected onto the camera's image sensor (e.g., CCD, CMOS)(é€šè¿‡é•œå¤´æ¥æ”¶çš„å…‰ä¼šæŠ•å°„åˆ°ç›¸æœºçš„å›¾åƒä¼ æ„Ÿå™¨ï¼ˆä¾‹å¦‚CCDï¼ŒCMOSï¼‰ä¸Š)
    3. Photodiode reacts to convert the detected light intensity and position into digital information(å…‰ç”µäºŒæç®¡èµ·ååº”ï¼Œå°†æ£€æµ‹åˆ°çš„å…‰å¼ºåº¦å’Œä½ç½®è½¬æ¢ä¸ºæ•°å­—ä¿¡æ¯)
    4. Reconstructed/stored as a digital image through an image processing engine (é€šè¿‡å›¾åƒå¤„ç†å¼•æ“é‡å»º/å­˜å‚¨ä¸ºæ•°å­—å›¾åƒ)
  - **For Visual SLAM, a geometric model of the process in which a point in 3D space is projected onto a 2D image plane(å¯¹äºVisual SLAMï¼Œæ˜¯å°†3Dç©ºé—´ä¸­çš„ç‚¹æŠ•å½±åˆ°2Då›¾åƒå¹³é¢ä¸Šçš„è¿‡ç¨‹çš„å‡ ä½•æ¨¡å‹)**

- Word Coordinate to image plane
  - A process in which a point in 3D space is projected onto a 2D image plane(å°†3Dç©ºé—´ä¸­çš„ç‚¹æŠ•å½±åˆ°2Då›¾åƒå¹³é¢ä¸Šçš„è¿‡ç¨‹)
    1. World coord to a point ìƒì˜ in 3D space. Expressed in coordinates ğ‘·_w(ä¸–ç•Œåæ ‡åˆ°3Dç©ºé—´ä¸­çš„pointç‚¹ã€‚ ä»¥åæ ‡ğ‘·_wè¡¨ç¤º)

<a href="https://postimg.cc/5jjFs61V"><img src="https://i.postimg.cc/wxQcTmG7/Capture.jpg" width="700px" title="source: imgur.com" /><a>

<a href="https://postimg.cc/TyRKgPQB"><img src="https://i.postimg.cc/jjfyVwfq/Capture.jpg" width="700px" title="source: imgur.com" /><a>

# Pinhole Camera Model

<a href="https://postimg.cc/Y49ptLd2"><img src="https://i.postimg.cc/DzQmdqsG/Capture.jpg" width="700px" title="source: imgur.com" /><a>

- The mathematical relationship between the coordinates of a point in three-dimensional space and its projection onto the image plane of an ideal pinhole camera, where the camera aperture is described as a point and no lenses are used to focus light.(ä¸‰ç»´ç©ºé—´ä¸­çš„ç‚¹çš„åæ ‡ä¸å…¶åœ¨ç†æƒ³é’ˆå­”ç›¸æœºçš„å›¾åƒå¹³é¢ä¸Šçš„æŠ•å½±ä¹‹é—´çš„æ•°å­¦å…³ç³»ï¼Œå…¶ä¸­ç›¸æœºå…‰åœˆè¢«æè¿°ä¸ºä¸€ä¸ªç‚¹ï¼Œå¹¶ä¸”æ²¡æœ‰ä½¿ç”¨é€é•œæ¥èšç„¦å…‰çº¿ã€‚)
- Projection of a 3D point onto the image plane(å°†3Dç‚¹æŠ•å½±åˆ°å›¾åƒå¹³é¢ä¸Š)
  - Relationship between the point ğ‘·_c and in the three-dimensional space expressed in the camera coordinate system and the image plane(ç›¸æœºåæ ‡ç³»ä¸­è¡¨ç¤ºçš„ä¸‰ç»´ç©ºé—´ä¸­çš„ç‚¹ğ‘·_cä¸åƒå¹³é¢ä¹‹é—´çš„å…³ç³»)

<a href="https://postimg.cc/hXGFmWTp"><img src="https://i.postimg.cc/nh4n6nzb/Capture.jpg" width="700px" title="source: imgur.com" /><a>

- Physical image plane to uv image plane(ç‰©ç†å›¾åƒå¹³é¢åˆ°uvå›¾åƒå¹³é¢)
  - Sampling and quantization are performed in the process of converting the light detected by the physical imaging sensor into pixels on the digital image plane.(åœ¨å°†ç”±ç‰©ç†æˆåƒä¼ æ„Ÿå™¨æ£€æµ‹åˆ°çš„å…‰è½¬æ¢ä¸ºæ•°å­—å›¾åƒå¹³é¢ä¸Šçš„åƒç´ çš„è¿‡ç¨‹ä¸­æ‰§è¡Œé‡‡æ ·å’Œé‡åŒ–)

<a href="https://postimg.cc/0rHX4Mwd"><img src="https://i.postimg.cc/659syC6S/Capture.jpg" width="700px" title="source: imgur.com" /><a>

<a href="https://postimg.cc/zLtTfW5x"><img src="https://i.postimg.cc/XJ3LQcP6/Capture.jpg" width="700px" title="source: imgur.com" /><a>

<a href="https://postimg.cc/G8P8yy10"><img src="https://i.postimg.cc/NMS1Z6J0/Capture.jpg" width="700px" title="source: imgur.com" /><a>

<a href="https://postimg.cc/G8P8yy10"><img src="https://i.postimg.cc/NMS1Z6J0/Capture.jpg" width="700px" title="source: imgur.com" /><a>

# Camera Distortion

<a href="https://postimg.cc/GH6LbmZv"><img src="https://i.postimg.cc/L88nBqDQ/Capture.jpg" width="700px" title="source: imgur.com" /><a>

- Distortion correction plays a very important role in the field of image processing and image (image) utilization.(å¤±çœŸæ ¡æ­£åœ¨å›¾åƒå¤„ç†å’Œå›¾åƒï¼ˆå›¾åƒï¼‰åˆ©ç”¨é¢†åŸŸä¸­èµ·ç€éå¸¸é‡è¦çš„ä½œç”¨ã€‚)

- Image distortion is a serious problem in guessing real-world information from images acquired by a camera(åœ¨ä»ç›¸æœºè·å–çš„å›¾åƒä¸­çŒœæµ‹çœŸå®ä¿¡æ¯æ—¶ï¼Œå›¾åƒå¤±çœŸæ˜¯ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ã€‚)

- As shown in the figure, the degree of distortion in grasping the shape of the road and building from the image or estimating the location is linked to the error level of the estimated result.(å¦‚å›¾æ‰€ç¤ºï¼Œä»å›¾åƒä¸­æŠŠæ¡é“è·¯å’Œå»ºç­‘ç‰©çš„å½¢çŠ¶æˆ–ä¼°è®¡ä½ç½®æ—¶çš„å˜å½¢ç¨‹åº¦ä¸ä¼°è®¡ç»“æœçš„è¯¯å·®æ°´å¹³ç›¸å…³ã€‚)

## Definition of Distortion
- í˜„ì‹¤(3ì°¨ì›)ì„¸ê³„ì˜ ì •ë³´ë¥¼ ì´ë¯¸ì§€(2ì°¨ì›)ë¡œ íˆ¬ì˜í•˜ëŠ” ê³¼ì •ì—ì„œ ë Œì¦ˆì˜ í˜•ìƒ(êµ¬ë©´)ì´ Image Plane(í‰ë©´)ì— ë¹›ì„ ì˜¬ë°”ë¥´ê²Œ ì „ë‹¬í•˜ì§€ ëª»í•˜ì—¬ ìˆ˜ì°¨(Aberration) ë°œìƒ

- ì´ë¯¸ì§€ì˜ ì™œê³¡ì€ í¬ê²Œ ë‘ ê°€ì§€ë¡œ êµ¬ë¶„í•œë‹¤.
  - ì™œê³¡(Distortion) : ìƒ(Plane)ì˜ ê°€ì¥ìë¦¬ì— ìˆëŠ” ì§ì„ ì„ íœ˜ì–´ì ¸ ë³´ì´ê²Œ ë§Œë“œëŠ” ë Œì¦ˆì˜ ìˆ˜ì°¨
  - ì›ê·¼ ì™œê³¡(Perspective Distortion) : ë Œì¦ˆê°€ í”¼ì‚¬ì²´ì— ì•„ì£¼ ê°€ê¹ê²Œ ì ‘ê·¼í–ˆì„ ë•Œ(ê´‘ê° íš¨ê³¼), ë˜ëŠ” ì•„ì£¼ ë©€ë¦¬ ë–¨ì–´ì ¸ ìˆì„ ë•Œ(ë§ì›íš¨ê³¼) ë°œìƒí•˜ëŠ” ì›ê·¼ê°ì˜ ë³€í™”
- ì™œê³¡ì€ ë‹¤ì‹œ í¬ê²Œ ë°©ì‚¬ì™œê³¡(Radial Distortion)ê³¼ ì ‘ì„ ì™œê³¡(Tangential Distortion)ìœ¼ë¡œ êµ¬ë¶„í•œë‹¤
  - ë°©ì‚¬ì™œê³¡ : ì¹´ë©”ë¼ì— ì‚¬ìš©ëœ ë³¼ë¡ë Œì¦ˆì˜ êµ´ì ˆë¥ ì— ì˜í•œ ì™œê³¡
  - ì ‘ì„ ì™œê³¡ : ì¹´ë©”ë¼ ì´ë¯¸ì§€ ì„¼ì„œì™€ ë Œì¦ˆì˜ ìˆ˜í‰ì´ ë§ì§€ ì•Šì•„ì„œ ìƒê¸°ëŠ” ì™œê³¡
  - ì´ëŸ¬í•œ ì™œê³¡ì„ ë Œì¦ˆì™œê³¡(Lens Distortion)ì´ë¼ê³ ë„ ë¶€ë¥¸ë‹¤
- ì¼ë°˜ì ìœ¼ë¡œ ì´ë¯¸ì§€ì˜ ì™œê³¡ì€ Normalized Image Planeì—ì„œ ì •ì˜ë©ë‹ˆë‹¤
  - ê°™ì€ ì¹´ë©”ë¼ì—¬ë„ ë‚´ë¶€ íŒŒë¼ë¯¸í„°ì˜ ê°’ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì—, ì´ëŸ¬í•œ ì˜í–¥ì„ ì œê±°í•œ ì˜ì—­ì—ì„œ ì •ì˜ê°€ í•„ìš”

## Radial Distortion & Tangential Distortion
- ë°©ì‚¬ì™œê³¡ì€ ì™œê³¡ì˜ í˜•íƒœì— ë”°ë¼ ìˆ í†µí˜•ì™œê³¡(Barrel Distortion)ê³¼ ë°”ëŠ˜ê½‚ì´í˜• ì™œê³¡(Pincushion Distortion)ìœ¼ë¡œ ë¶€ë¥¸ë‹¤.

<a href="https://postimg.cc/cvdDgRyW"><img src="https://i.postimg.cc/Gmy6fKX4/Capture.jpg" width="700px" title="source: imgur.com" /><a>

## Radial Distortion

<a href="https://postimg.cc/68605Bn5"><img src="https://i.postimg.cc/pLz1CTd8/Capture.jpg" width="700px" title="source: imgur.com" /><a>

## Tangential Distortion

<a href="https://postimg.cc/wyDJQrLG"><img src="https://i.postimg.cc/ZRMc4tR4/Capture.jpg" width="700px" title="source: imgur.com" /><a>

# Distortion represented by a mathematical model

<a href="https://postimg.cc/ftQ5smv1"><img src="https://i.postimg.cc/PxP7mMvf/Capture.jpg" width="700px" title="source: imgur.com" /><a>


<a href="https://postimg.cc/tnC3R5nv"><img src="https://i.postimg.cc/T1nC9Ndx/Capture.jpg" width="700px" title="source: imgur.com" /><a>

- *M* ì€ ì¦‰ ì¼ˆë ˆë¸Œë ˆì´ì…˜ì„ í• ë–„ í•„ìš”í•œ í˜•ìƒ ë„¤ëª¨ë‚˜ ë™ê·¸ë¼ë¯¸ ê°™ì€ ê²ƒì„ ê°€ë¥´í‚¨ë‹¤.

<a href="https://postimg.cc/F7kfy8vg"><img src="https://i.postimg.cc/sDwprC08/Capture.jpg" width="700px" title="source: imgur.com" /><a>

# Reference
SLAM KR
