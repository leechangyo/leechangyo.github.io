---
layout: post
title: An Improved RANSAC for 3D Point Cloud Plane Segmentation based on normal distribution transformation cells.
category: Machine Vision
tag: Machine Vision
---

NDT(Normal distribution transformation) : 데이터들을 Region이나 특정 포인트 수만큼을 가지고,  Normal distribution(Mean, Covariance matrix로 표현하는) 변환을 얘기한다.

여기서 RANSAC은 Iterative reweighed least-squares(IRLS)를 통한 Plane Fitting을 하는데 사용이 되었다.

이 페이퍼의 Main Contribution은 the planar NDT cell is selected as a minimal sample on the surface of the sam plane to ensure the correctness of sampling. the proposed method can improve the correctness of plane segmentation and eliminate the spurious plane problems of standard ransac. an iterative reweighed least-squares(IRLS) approach is also used for plane fitting to improve the the reliability and accuracy of a detected plane.

### Releated Works

#### NDT methods

point features are commonly used and are caluclated by the neihbor of each point. for example, the normal, curvature and roughness features are used for pointcloud segmentation and compression.

NDT is a concept similar to super-voxels and sub-windows.

NDT classified the sub-windows into two categories based on their shape(Normal surface shape) : Planar and non Planar.

A Probability Density Function(PDF) is computed for each cell, based on the point distribution within the cell

generated NDT by at least 3 point grouped, cross-product makes normal vector(normal cell) or group points refer to shape of covariance matrix, by then create normal vector(normal cell).

#### RANSAC

the Ransac is that hypothesis shapes are generated by randomly selecting a minimal subset of n points and estimating the correspoiding shape-model parameter.

in this thesis, used for fitting plane model.

for example, 3 points are need to determine a plane. then, the remaining points in the pointcloud are tested with the resulting candidate shapes to determine how many of the points well approximated by the model. after a certain number of iterations, the shape that possess the largest percentage of inliers is extracted and the algorithm continues to process the remaining data. the plane is often fitting by the least squares(ls) method.

RANSAC depends on the subset size, the inilier ratio and the number of data points.

### Proposed methods

<a href="https://postimg.cc/SjjDCm2r"><img src="https://i.postimg.cc/ZYx2kRJ1/Kakao-Talk-Photo-2021-11-14-11-24-43.jpg" width="700px" title="source: imgur.com" /><a>

Input Pointcloud -> NDT CELL(at least 3 points, mean and covariance) -> egienvalues ratios(determine plane or point) -> only get planar ndt cells -> IRLS ndt normal -> ndt ransac(randomly choose cell and find out the cell has biggest inlier(points that above plane(which it was used forming plane)) after filtering by some threshold) -> choose primary plane, which has biggest inliers points -> IRLS do it(points that grouped in primary plane used for fitting plane model) -> now we have plane model -> projected remaining point againt to all the ndt cell which has new plane model -> complete plane -> connected-components.



### PCL DOC :

https://pcl.readthedocs.io/projects/tutorials/en/latest/random_sample_consensus.html?highlight=console#the-explanation

good sample !

### Segmentation :

https://blog.csdn.net/cindy9608/article/details/119886698

Segmentation하는 법은 Normal Vector를 구하고 ax + by + cz + d = 0 (Plane coefficient)을 만족을 하면 Plane으로 인지

RANSAC Segmentation RANSAC

### well explained :

https://medium.com/@ajithraj_gangadharan/3d-ransac-algorithm-for-lidar-pcd-segmentation-315d2a51351


3차원에서의 RANSAC 방법

https://towardsdatascience.com/detecting-the-fault-line-using-k-mean-clustering-and-ransac-9a74cb61bb96

2차원에서의 ransac 방법

https://stats.stackexchange.com/questions/267267/what-does-scaling-the-normal-vector-of-a-plane-hyperplane-mean
